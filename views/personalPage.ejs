<!DOCTYPE html>
<html ng-app="webApp">
<head>
    <title translate="PAGINA_PRINCIPAL"></title>

    <meta charset="UTF-8">
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">

    <!-- Scripts y hojas de estilos compartidos -->
    <% include partials/shared-head %>

    <!-- Hojas de estilos y scripts -->
    <link rel="stylesheet" href="/public/stylesheets/personalPage.css">

    <!-- Controladores-->
    <script src='/public/javascripts/controllers/contactosController.js'></script>
    <script src='/public/javascripts/controllers/notificacionesController.js'></script>
    <script src='/public/javascripts/controllers/salaController.js'></script>
    <script src='/public/javascripts/controllers/logoutController.js'></script>
    <script src='/public/javascripts/controllers/addContactoController.js'></script>
    <script src='/public/javascripts/controllers/solicitudesContactoController.js'></script>
    <script src='/public/javascripts/controllers/bloquearContactoController.js'></script>
    <script src='/public/javascripts/controllers/langController.js'></script>


</head>
<body>

<!-- Cabecera -->
<% include partials/header %>

<div class="container" ng-controller="notificacionesController">

    <!-- Menu lateral -->
    <div class="menu-lateral well">
        <ul class="nav nav-list">
            <li class="nav-header">{{'CONTACTOS' | translate}}</li>
            <li>
                <a data-target="#addUsuario" data-toggle="modal">
                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span> {{'ADD_CONTACTO' | translate}}
                </a>
            </li>
            <li>
                <a data-target="#solicitudes-contacto" data-toggle="modal">
                    <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> {{'SOLICITUDES_CONTACTO' | translate}}
                    <span ng-hide="solicitudes.length < 1" class="badge badge-info">{{solicitudes.length}}</span>
                </a>
            </li>
            <li>
                <a data-target="#bloquearUsuario" data-toggle="modal">
                    <span class="glyphicon glyphicon-ban-circle" aria-hidden="true">
                    </span> {{'BLOQUEAR_CONTACTO' | translate}}
                </a>
            </li>
            <li class="nav-header">{{'SALAS' | translate}}</li>
            <li>
                <a data-target="#createRoom" data-toggle="modal">
                    <span class="glyphicon glyphicon-blackboard" aria-hidden="true">
                    </span> {{'CREAR_SALA' | translate}}
                </a>
            </li>
            <li>
                <a href="manageRooms">
                    <span class="glyphicon glyphicon-book" aria-hidden="true"></span> {{'GESTIONAR_SALA' | translate}}
                </a>
            </li>
            <li>
                <a data-target="#solicitudes-salas" data-toggle="modal">
                    <span class="glyphicon glyphicon-send" aria-hidden="true"></span> {{'SOLICITUDES_SALAS' | translate}}
                    <span ng-hide="solicitudesSala.length < 1" class="badge badge-info">{{solicitudesSala.length}}</span>
                </a>
            </li>
            <li class="nav-header">{{'AJUSTES' | translate}}</li>
            <li>
                <a href="#">
                    <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> {{'AJUSTES_CUENTA' | translate}}
                </a>
            </li>
            <li class="nav-header">
                <a ng-controller="logoutController" ng-click="logout()" href="index">
                    <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> {{'CERRAR_SESION' | translate}}
                </a>
            </li>
        </ul>
    </div>
    <!-- Fin Menu lateral -->

    <!-- Listado contactos -->
    <div id="contenedor-listado-contactos" ng-controller="contactosController">
        <div class="panel-heading" style="margin-bottom:25px;"><label style="margin-right:100px; float:left">{{ 'CONTACTOS' | translate }}:
            </label><input style="float:left; margin-bottom: 5px;" placeholder="{{'FILTRAR_CONTACTOS' | translate}}"/></div>
        <div id="contenedor2-listado-contactos">
            <div id="listado-contactos">
                <button ng-repeat="contacto in contactos" class="list-group-item boton-listado">{{contacto.username}}
                </button>
            </div>
        </div>
    </div>
    <!-- Fin listado contactos -->

    <!-- Listado salas -->
    <div ng-controller="salaController" id="contenedor-listado-salas" class="btn-group-vertical">
        <div class="panel-heading" style="margin-bottom:25px;"><label style="margin-right:100px; float:left;">
                {{'ACCESO_SALAS' | translate}}:</label><input style="float:left; margin-bottom: 5px;" placeholder="{{'FILTRAR_SALAS' | translate}}"/></div>
        <div id="contenedor2-listado-salas">
            <div id="listado-salas">
                <button ng-repeat="sala in salas" ng-click="accederSala(sala.idSala)"
                        class="list-group-item boton-listado">
                    {{sala.nombre}}
                </button>
            </div>
        </div>
    </div>
    <!-- Fin listado salas -->

    <!-- Dialogs -->
    <% include partials/dialogs/addContacto.ejs %>
    <% include partials/dialogs/crearSala.ejs %>
    <% include partials/dialogs/bloquearContacto.ejs %>
    <% include partials/dialogs/solicitudesContacto.ejs %>
    <% include partials/dialogs/solicitudesSala.ejs %>

</div>
</body>
</html>